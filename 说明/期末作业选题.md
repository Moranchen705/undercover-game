Python 程序设计高阶期末大报告选题：“谁是卧底” 多人语言推理游戏
一、选题背景与游戏简介
“谁是卧底” 是一款风靡的多人语言推理类桌游，核心玩法是通过描述词语、观察他人发言来识别 “卧底”，同时保护己方阵营不被淘汰。本选题将其转化为 Python 高阶编程项目，旨在锻炼同学们的网络编程、GUI 开发、逻辑算法设计、多线程并发处理等能力，是对 Python 综合应用能力的全面检验。
二、角色分工与核心职责
（一）主持方（1 个组）
作为游戏的 “中枢”，需承担以下职责：
平台构建：开发服务端程序，提供可视化交互界面，完整展示游戏流程（组名广播、描述列表、时间戳、投票结果、胜负判定等）。
流程控制：负责游戏初始化（身份分配、词语发送、组随机排序）、轮次推进（描述收集、投票管理）、结果判定（淘汰逻辑、胜负与得分计算）。
通信管理：在局域网内与所有游戏方建立稳定连接，处理 “组名注册、描述提交、投票提交” 等请求，确保多客户端并发时的通信可靠性。
（二）游戏方（5 个组）
作为游戏的 "参与者"，需承担以下职责：
客户端开发：开发客户端程序，实现 "组名注册、词语接收、描述提交（限时≤3 秒）、投票参与" 的交互逻辑。
游戏策略实现：按规则发送贴合词语又具迷惑性的描述（基于 "平民词" 或 "卧底词"），并通过理性投票执行游戏策略。
三、游戏规则与流程详解
（一）完整流程步骤
注册与组名广播游戏方向主持方提交组名，主持方将所有组名广播至所有游戏方，确保信息透明。
身份与词语分配
主持方随机选定 1 个游戏方为 **"卧底"，其余为"平民"**。
向卧底发送 **"卧底词"，向平民发送"平民词"**（两词语义高度相关且易混淆，如 "苹果" 与 "梨"、"地铁" 与 "轻轨"）。
对所有游戏方进行随机排序，确定描述的先后顺序。
**注意**：游戏的次数应为 5 的倍数，保证每个游戏组都有相同的次数能够成为卧底。
描述提交与可视化展示游戏方按主持方指定的顺序，在间隔≤3 秒内提交对自身词语的描述；主持方在可视化界面中实时展示 “组名 + 描述 + 提交时间戳”。
投票与结果处理游戏方在客户端提交投票（仅可投 "存活组"），主持方统计并展示结果，按以下规则处理：
情况 a：得票最多的组仅 1 个→该组被淘汰。
若淘汰组是卧底：游戏结束，平民阵营胜利。
若淘汰组是平民：返回步骤 3（游戏继续）。
情况 b：得票最多的组有 3 个→
若均为平民组：3 组均淘汰，游戏结束，卧底阵营胜利。
情况 c：得票最多的组有 2 个→进入下一轮（返回步骤 3）。
得分与胜负判定
卧底得分：
若平民组仅剩 1 组，卧底得 **"胜利分 3 分"**；
每存活 1 轮（完成 1 次 "描述 - 投票" 循环），得 **"生存分 1 分"**；
**卧底的最终得分为 "胜利分" 与 "生存分" 的和**（求和，不是取较大值）。
平民得分：
每存活 1 轮（完成 1 次 "描述 - 投票" 循环），得 **"生存分 1 分"**；
**平民的最终得分为该次游戏中的生存分之和**。
胜负判定：
卧底被淘汰→平民胜利；
平民全淘汰或仅剩 1 组→卧底胜利。
（二）特殊规则
游戏在局域网内开展（无外网），游戏方最多可使用 3 台计算机，需确保程序在局域网环境下稳定运行。
调试支持：即使仅 1 组游戏方参与，主持方需提供模拟环境（如生成虚拟组），确保流程可完整调试。
**游戏次数要求**：游戏的次数应为 5 的倍数，保证每个游戏组都有相同的次数能够成为卧底。
四、技术实现要点
（一）网络通信
采用Socket 编程实现局域网内的 TCP 通信：
主持方作为服务端，监听并维护与多个游戏方客户端的连接。
游戏方作为客户端，发起连接并与服务端交互。
多线程处理：使用threading模块处理多客户端并发请求（如同时接收多个组的描述、投票）。
（二）GUI 开发
主持方界面：建议使用 Tkinter、PyQt 等框架，需包含 “组名列表区、描述展示区（带时间戳）、投票结果统计区、胜负提示区”。
游戏方界面：需包含 “词语接收展示区、描述输入与提交按钮、投票选择列表与提交按钮”，并添加 “时间限制提示”（确保描述提交≤3 秒）。
（三）核心逻辑处理
主持方需维护游戏状态字典，记录各组 “身份、存活状态、轮次、得分” 等信息。
实现随机排序算法（为游戏方分配描述顺序）、投票统计与淘汰判定算法（精准匹配规则中 a/b/c 三种情况）。
游戏方需添加输入校验逻辑（如描述非空、投票对象为存活组）。
五、评分维度
（一）主持方
平台完整性：可视化界面是否覆盖 “组名、描述、时间、投票、胜负” 所有环节。
逻辑正确性：身份分配、词语发送、排序、投票结果判定、得分计算是否完全符合规则。
稳定性：局域网内多客户端连接、并发请求处理是否稳定无故障。
（二）游戏方
交互合规性：描述提交是否满足 “≤3 秒” 时限，投票是否符合 “仅投存活组” 规则。
功能完整性：组名注册、词语接收、描述提交、投票提交等功能是否完整实现。
最终得分：根据游戏结果获得的 “卧底得分” 或 “平民胜利表现”（若为卧底组）。
本选题通过 “谁是卧底” 游戏的完整流程实现，全面考察同学们的 Python 高阶编程能力，期待大家打造出交互流畅、逻辑严谨的多人游戏平台！